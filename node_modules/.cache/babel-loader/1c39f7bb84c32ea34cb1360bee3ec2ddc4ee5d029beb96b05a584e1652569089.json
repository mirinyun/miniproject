{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sw06\\\\Desktop\\\\front\\\\frontend\\\\src\\\\app\\\\Login.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { SERVER_URL } from \"../comm/constants\";\nimport ButtonBlue from \"../comm/ButtonBlue\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [user, setUser] = useState({\n    username: '',\n    password: ''\n  });\n  const [isAuthenticated, setAuth] = useState(false);\n  const handleChange = event => {\n    setUser({\n      ...user,\n      [event.target.name]: event.target.value\n    });\n  };\n  const login = () => {\n    fetch(SERVER_URL + 'login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(Response => {\n      const jwtToken = Response.headers.get('Authorization');\n      if (jwtToken !== null) {\n        sessionStorage.setItem(\"jwt\", jwtToken);\n        sessionStorage.setItem(\"username\", user.username);\n        setAuth(true);\n      } else {\n        alert(\"일치하는 회원이 없습니다.\");\n        return window.location.reload(true);\n      }\n    }).catch(err => console.error(err));\n  };\n  useEffect(() => {\n    if (isAuthenticated) {\n      return window.location.replace(\"/mycalorie\");\n    }\n  }, [isAuthenticated]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"bg-gray-50 dark:bg-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 space-y-4 md:space-y-6 sm:p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\",\n            children: \"Sign in to your account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4 md:space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"username\",\n                className: \"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",\n                children: \"name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"username\",\n                name: \"username\",\n                id: \"username\",\n                placeholder: \"name@company.com\",\n                required: \"\",\n                className: \"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"password\",\n                className: \"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"password\",\n                id: \"password\",\n                placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n                className: \"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",\n                required: \"\",\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ButtonBlue, {\n              caption: \"\\uB85C\\uADF8\\uC778\",\n              handleClick: login\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"aExH2Vb6LfNt/NCKoo192n2PDJs=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useEffect","useState","SERVER_URL","ButtonBlue","jsxDEV","_jsxDEV","Login","_s","user","setUser","username","password","isAuthenticated","setAuth","handleChange","event","target","name","value","login","fetch","method","headers","body","JSON","stringify","then","Response","jwtToken","get","sessionStorage","setItem","alert","window","location","reload","catch","err","console","error","replace","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","placeholder","required","onChange","caption","handleClick","_c","$RefreshReg$"],"sources":["C:/Users/sw06/Desktop/front/frontend/src/app/Login.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { SERVER_URL } from \"../comm/constants\";\nimport ButtonBlue from \"../comm/ButtonBlue\"\n\nconst Login = () => {\n    const [user, setUser] = useState({\n        username: '',\n        password: ''\n    })\n    const [isAuthenticated, setAuth] = useState(false);\n\n    const handleChange = (event) => {\n        setUser({...user, [event.target.name] : event.target.value})\n    }\n\n    const login = () => {\n        \n        fetch(SERVER_URL + 'login', {\n            method: 'POST',\n            headers: { 'Content-Type':'application/json' },\n            body: JSON.stringify(user)\n        })\n        .then(Response => {\n            const jwtToken = Response.headers.get('Authorization');\n            if (jwtToken !== null) {\n                sessionStorage.setItem(\"jwt\", jwtToken);\n                sessionStorage.setItem(\"username\", user.username)\n                setAuth(true);\n            }\n            else{\n                alert(\"일치하는 회원이 없습니다.\")\n                return window.location.reload(true)\n            }\n        })\n        .catch(err => console.error(err))\n    }\n\n    useEffect(() => {\n        if(isAuthenticated){\n            return window.location.replace(\"/mycalorie\")\n        }\n    }, [isAuthenticated])\n\n    return (\n        \n        <section className=\"bg-gray-50 dark:bg-gray-900\">\n            <div className=\"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0\">\n\n                <div className=\"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700\">\n                    <div className=\"p-6 space-y-4 md:space-y-6 sm:p-8\">\n                        <h1 className=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\">\n                            Sign in to your account\n                        </h1>\n                        <div className=\"space-y-4 md:space-y-6\">\n                            <div>\n                                <label htmlFor=\"username\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">name</label>\n                                <input type=\"username\"\n                                    name=\"username\"\n                                    id=\"username\"\n                                    placeholder=\"name@company.com\"\n                                    required=\"\"\n                                    className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" \n                                    onChange={handleChange}/>\n                            </div>\n                            <div>\n                                <label htmlFor=\"password\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Password</label>\n                                <input type=\"password\"\n                                    name=\"password\"\n                                    id=\"password\"\n                                    placeholder=\"••••••••\"\n                                    className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" required=\"\" \n                                    onChange={handleChange}/>\n                            </div>\n                            <ButtonBlue caption=\"로그인\" handleClick={login} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n    );\n}\n\nexport default Login\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}